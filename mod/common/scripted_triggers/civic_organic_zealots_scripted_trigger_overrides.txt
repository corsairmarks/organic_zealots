# Modified: added civic_organic_zealots
# this = country
is_homicidal = {
	OR = {
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_machine_terminator
		has_valid_civic = civic_hive_devouring_swarm
		has_valid_civic = civic_organic_zealots
	}
}

# Modified: calls is_homicidal instead of duplicating
# this = country
is_unfriendly = {
	OR = {
		has_valid_civic = civic_barbaric_despoilers
		is_homicidal = yes
	}
}

# Modified: use triggers, include conditions for civic_organic_zealots
has_total_war_cb = {
	OR = {
		#attacker checks
		AND = {
			OR = {
				is_country_type = default
				is_fallen_empire = yes
			}
			OR = {
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_assimilator
				AND = {
					has_valid_civic = civic_machine_terminator
					from = { is_robot_empire = no }
				}
				AND = {
					has_valid_civic = civic_organic_zealots
					from = {
						OR = {
							is_robot_empire = yes
							is_fallen_empire_machine = yes
						}
					}
				}
				AND = {
					has_valid_civic = civic_fanatic_purifiers
					NOT = { is_same_species = from }
				}
			}
		}
		#end threat checks
		AND = {
			is_country_type = default
			NOR = {
				is_country_type = awakened_fallen_empire
				has_valid_civic = civic_machine_assimilator
			}
			is_homicidal = no
			from = {
				OR = {
					is_country_type = awakened_fallen_empire
					has_valid_civic = civic_machine_assimilator
					is_homicidal = yes
				}
			}
		}
	}
}

# Modified: use gestalt trigger, added civic_organic_zealots
allows_purge = {
	OR = {
		is_gestalt = yes
		has_valid_civic = civic_fanatic_purifiers
		has_valid_civic = civic_organic_zealots
		has_policy_flag = purge_allowed
		has_policy_flag = purge_displacement_only
	}
}