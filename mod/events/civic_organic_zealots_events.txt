namespace = civic_organic_zealots

# triggered by empire_init_add_technologies
country_event = {
	id = civic_organic_zealots.2
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		has_valid_civic = civic_organic_zealots
	}
	immediate = {
		give_technology = {
			tech = tech_genome_mapping
			message = no
		}
		give_technology = {
			tech = tech_cloning
			message = no
		}
	}
}

# triggered by on_pop_purged
# this = planet
# from = country
# fromfrom = pop
planet_event = {
	id = civic_organic_zealots.3
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = from
		from = { has_valid_civic = civic_organic_zealots }
		is_controlled_by = from
		exists = fromfrom
		fromfrom = { is_robot_pop = yes }
	}
	immediate = {
		from = {
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 5
				max = 100
			}
		}
	}
}

# triggered by on_becoming_subject
# this = country, subject
# from = country, overlord
country_event = {
	id = civic_organic_zealots.4
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			AND = {
				has_tradition = tr_cybernetics_adopt
				NOT = { has_country_flag = cyborg_empire }
			}
			AND = {
				has_active_tradition = tr_synthetics_synthetic_age
				is_synthetic_empire = no
			}
		}
		exists = from
		from = { has_valid_civic = civic_organic_zealots }
	}
	immediate = {
		force_disable_tech_ascension_special_projects = yes
	}
}

# triggered by on_becoming_subject
# this = country, subject
# from = country, overlord
country_event = {
	id = civic_organic_zealots.5
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			has_active_tradition = tr_cybernetics_transubstantiation_synthesis
			is_synthetic_empire = yes
		}
		exists = from
		from = { has_valid_civic = civic_organic_zealots }
	}
	immediate = {
		deactivate_ongoing_tech_assimilation = yes
	}
}

# triggered by on_becoming_subject
# this = country, subject
# from = country, overlord
country_event = {
	id = civic_organic_zealots.6
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		is_valid_target_to_outlaw_cybernetics_or_robot_pops_or_ai = yes
		exists = from
		from = { has_valid_civic = civic_organic_zealots }
	}
	immediate = {
		set_policies_robot_pops_and_ai_to_outlawed = yes
	}
}

# triggered by force_policy_outlaw_robots_and_ai_effect after the force-policy duration expires
# this = country, who was forcefully disabled
country_event = {
	id = civic_organic_zealots.7
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			has_country_flag = flesh_is_weak_project_aborted_by_organic_zealots
			has_country_flag = synthetic_evolution_project_aborted_by_organic_zealots
		}
		NAND = {
			exists = overlord
			overlord = { has_valid_civic = civic_organic_zealots }
		}
	}
	immediate = {
		re_enable_tech_ascension_special_projects_if_force_disabled = yes
	}
}

# triggered by empire_init_capital_planet
# this = planet, capital
# from = species, founder
planet_event = {
	id = civic_organic_zealots.8
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = {
		has_owner = yes
	}
	trigger = {
		owner = { has_valid_civic = civic_organic_zealots }
		free_building_slots > 0
	}
	immediate = {
		add_building = building_clone_birth_labs
	}
}